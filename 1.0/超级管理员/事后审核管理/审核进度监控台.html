<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®¡æ ¸è¿›åº¦ç›‘æ§å° - åŒ»ä¿å®¡æ ¸ç³»ç»Ÿ</title>
    <!-- <link rel="stylesheet" href="/1.0/è¶…çº§ç®¡ç†å‘˜/æ ·å¼æ–‡ä»¶/unified-sidebar.css">
    <link rel="stylesheet" href="/1.0/æ ·å¼æ–‡ä»¶/å¹³å°çœ‹æ¿æ ·å¼.css"> -->
    <link rel="stylesheet" href="../../æ ·å¼æ–‡ä»¶/é€šç”¨æ ·å¼.css">
    <link rel="stylesheet" href="../../æ ·å¼æ–‡ä»¶/å®¡æ ¸è®°å½•æ ·å¼.css">
    <link rel="stylesheet" href="../../æ ·å¼æ–‡ä»¶/unified-sidebar.css">
    <style>
        /* ç›‘æ§å°ç‰¹å®šæ ·å¼ */
        .dashboard-header {
            background: white;
            padding: 20px;
            border-bottom: 1px solid #e0e0e0;
            margin-bottom: 20px;
        }
        
        .dashboard-title {
            font-size: 24px;
            font-weight: 600;
            color: #2c3e50;
            margin: 0;
        }
        
        .dashboard-subtitle {
            color: #7f8c8d;
            margin-top: 8px;
            font-size: 14px;
        }
        
        .metrics-container {
            padding: 0 20px 20px 20px;
        }
        
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .kpi-card {
            background: white;
            padding: 24px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .kpi-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
        }
        
        .kpi-title {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .kpi-value {
            font-size: 28px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 4px;
        }
        
        .kpi-unit {
            font-size: 14px;
            color: #95a5a6;
        }
        
        .data-table-container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }
        
        .table-header {
            padding: 20px 24px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .table-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin: 0;
        }
        
        .table-wrapper {
            overflow-x: auto;
        }
        
        .audit-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .audit-table th {
            background: #f8f9fa;
            padding: 16px 24px;
            text-align: left;
            font-weight: 600;
            color: #2c3e50;
            font-size: 14px;
            border-bottom: 2px solid #e0e0e0;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .audit-table td {
            padding: 16px 24px;
            border-bottom: 1px solid #e0e0e0;
            font-size: 14px;
            color: #34495e;
        }
        
        .audit-table tr:hover {
            background: #f8f9fa;
        }
        
        .category-row td {
            background: #f1f3f5;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .sub-item td {
            padding-left: 48px;
        }
        
        .drillable {
            color: #3498db;
            text-decoration: underline;
            cursor: pointer;
        }
        
        .drillable:hover {
            color: #2980b9;
        }
        
        .status-completed {
            color: #27ae60;
            font-weight: 500;
        }
        
        .status-running {
            color: #f39c12;
            font-weight: 500;
        }
        
        /* æ¨¡æ€æ¡†æ ·å¼ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-container {
            background: white;
            border-radius: 8px;
            width: 90%;
            max-width: 1200px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .modal-header {
            padding: 24px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #2c3e50;
            margin: 0;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: #7f8c8d;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
        }
        
        .modal-close:hover {
            background: #f1f3f5;
            color: #2c3e50;
        }
        
        .modal-content {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
        }
        
        .modal-footer {
            padding: 16px 24px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }
        
        .btn {
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .btn-primary {
            background: #3498db;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2980b9;
        }
        
        .btn-secondary {
            background: #ecf0f1;
            color: #2c3e50;
        }
        
        .btn-secondary:hover {
            background: #bdc3c7;
        }
        
        /* æ¦‚è§ˆä¿¡æ¯æ ·å¼ */
        .overview-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 24px;
        }
        
        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 16px;
        }
        
        .overview-item {
            display: flex;
            flex-direction: column;
        }
        
        .overview-label {
            font-size: 12px;
            color: #7f8c8d;
            margin-bottom: 4px;
        }
        
        .overview-value {
            font-size: 16px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        /* è§„åˆ™è¯¦æƒ…å’Œç—…ä¾‹æ¸…å•è¡¨æ ¼æ ·å¼ */
        .detail-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        
        .detail-table th {
            background: #f8f9fa;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            color: #2c3e50;
            font-size: 13px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .detail-table td {
            padding: 12px;
            border-bottom: 1px solid #e0e0e0;
            font-size: 13px;
            color: #34495e;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1200px) {
            .kpi-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .kpi-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .dashboard-header, .metrics-container {
                padding: 16px;
            }
            
            .modal-container {
                width: 95%;
                max-height: 95vh;
            }
        }
        
        @media (max-width: 480px) {
            .kpi-grid {
                grid-template-columns: 1fr;
            }
            
            .kpi-card {
                padding: 16px;
            }
            
            .kpi-value {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <!-- å¼•å…¥ç»Ÿä¸€ä¾§è¾¹æ  -->
    <div id="sidebar-container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h2 class="sidebar-logo">åŒ»ä¿å®¡æ ¸ç³»ç»Ÿ</h2>
                <p class="sidebar-subtitle">è¶…çº§ç®¡ç†å‘˜å¹³å°</p>
            </div>
            <div class="sidebar-nav">
                <!-- ä¾§è¾¹æ å†…å®¹å°†é€šè¿‡è„šæœ¬åŠ è½½ -->
            </div>
        </div>
    </div>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <div class="main-content">
        <div class="dashboard-header">
            <h1 class="dashboard-title">å®¡æ ¸è¿›åº¦ç›‘æ§å°</h1>
            <p class="dashboard-subtitle">å®æ—¶ç›‘æ§æ¯æ—¥äº‹åæœºå®¡å·¥ä½œè¿›åº¦</p>
        </div>

        <div class="metrics-container">
            <!-- KPIå¡ç‰‡åŒºåŸŸ -->
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-title">æ¡ˆä¾‹æ€»æ•°</div>
                    <div class="kpi-value">1,254,300</div>
                    <div class="kpi-unit">æ¡</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-title">æœºå®¡ä¸­</div>
                    <div class="kpi-value">254,300</div>
                    <div class="kpi-unit">æ¡</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-title">æœºå®¡å®Œæˆ</div>
                    <div class="kpi-value">1,000,000</div>
                    <div class="kpi-unit">æ¡</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-title">äº§ç”Ÿç–‘ç‚¹</div>
                    <div class="kpi-value">8,560</div>
                    <div class="kpi-unit">æ¡</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-title">æ‰§è¡Œå¤±è´¥</div>
                    <div class="kpi-value">128</div>
                    <div class="kpi-unit">æ¡</div>
                </div>
            </div>

            <!-- æ•°æ®è¡¨æ ¼åŒºåŸŸ -->
            <div class="data-table-container">
                <div class="table-header">
                    <h2 class="table-title">å„å®¡æ ¸åç›®è¿›åº¦</h2>
                </div>
                <div class="table-wrapper">
                    <table class="audit-table">
                        <thead>
                            <tr>
                                <th>å®¡æ ¸åç›®</th>
                                <th>æ¡ˆä¾‹æ€»æ•°</th>
                                <th>æœºå®¡ä¸­</th>
                                <th>æœºå®¡å®Œæˆ</th>
                                <th>äº§ç”Ÿç–‘ç‚¹æ•°</th>
                                <th>æ‰§è¡ŒçŠ¶æ€</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- è¯å“ä½¿ç”¨ç±» -->
                            <tr class="category-row">
                                <td>ğŸ’Š è¯å“ä½¿ç”¨ç±»</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr class="sub-item">
                                <td><span class="drillable" onclick="showRuleDetail('è¿‡åº¦ç”¨è¯')">è¿‡åº¦ç”¨è¯</span></td>
                                <td>150,000</td>
                                <td>0</td>
                                <td>150,000</td>
                                <td>1,200</td>
                                <td class="status-completed">âœ… å®Œæˆ</td>
                            </tr>
                            <tr class="sub-item">
                                <td><span class="drillable" onclick="showRuleDetail('ç—…è¯ä¸ç¬¦')">ç—…è¯ä¸ç¬¦</span></td>
                                <td>200,000</td>
                                <td>200,000</td>
                                <td>0</td>
                                <td>-</td>
                                <td class="status-running">ğŸ”„ è¿è¡Œä¸­</td>
                            </tr>
                            <tr class="sub-item">
                                <td><span class="drillable" onclick="showRuleDetail('é‡å¤ç”¨è¯')">é‡å¤ç”¨è¯</span></td>
                                <td>80,000</td>
                                <td>0</td>
                                <td>80,000</td>
                                <td>650</td>
                                <td class="status-completed">âœ… å®Œæˆ</td>
                            </tr>

                            <!-- è¯Šç–—é¡¹ç›®/æ£€æŸ¥ç±» -->
                            <tr class="category-row">
                                <td>ğŸ©º è¯Šç–—é¡¹ç›®/æ£€æŸ¥ç±»</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr class="sub-item">
                                <td><span class="drillable" onclick="showRuleDetail('è¿‡åº¦æ£€æŸ¥')">è¿‡åº¦æ£€æŸ¥</span></td>
                                <td>100,000</td>
                                <td>0</td>
                                <td>100,000</td>
                                <td>850</td>
                                <td class="status-completed">âœ… å®Œæˆ</td>
                            </tr>
                            <tr class="sub-item">
                                <td><span class="drillable" onclick="showRuleDetail('æ£€æŸ¥ç±»å‹ä¸åŒ¹é…')">æ£€æŸ¥ç±»å‹ä¸åŒ¹é…</span></td>
                                <td>120,000</td>
                                <td>54,300</td>
                                <td>65,700</td>
                                <td>-</td>
                                <td class="status-running">ğŸ”„ è¿è¡Œä¸­</td>
                            </tr>

                            <!-- è€—æä½¿ç”¨ç±» -->
                            <tr class="category-row">
                                <td>ğŸ’‰ è€—æä½¿ç”¨ç±»</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr class="sub-item">
                                <td><span class="drillable" onclick="showRuleDetail('è€—æå¼‚å¸¸ä½¿ç”¨')">è€—æå¼‚å¸¸ä½¿ç”¨</span></td>
                                <td>50,000</td>
                                <td>0</td>
                                <td>50,000</td>
                                <td>320</td>
                                <td class="status-completed">âœ… å®Œæˆ</td>
                            </tr>

                            <!-- ä½é™¢è¡Œä¸ºç±» -->
                            <tr class="category-row">
                                <td>ğŸ¥ ä½é™¢è¡Œä¸ºç±»</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr class="sub-item">
                                <td><span class="drillable" onclick="showRuleDetail('åˆ†è§£ä½é™¢')">åˆ†è§£ä½é™¢</span></td>
                                <td>30,000</td>
                                <td>0</td>
                                <td>30,000</td>
                                <td>150</td>
                                <td class="status-completed">âœ… å®Œæˆ</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- è§„åˆ™è¯¦æƒ…æ¨¡æ€æ¡† -->
    <div id="ruleDetailModal" class="modal-overlay" style="display: none;">
        <div class="modal-container">
            <div class="modal-header">
                <h2 class="modal-title">å®¡æ ¸åç›®è¯¦æƒ…ï¼š<span id="detailCategoryName"></span></h2>
                <button class="modal-close" onclick="closeRuleDetailModal()">Ã—</button>
            </div>
            <div class="modal-content">
                <!-- æ¦‚è§ˆä¿¡æ¯ -->
                <div class="overview-info">
                    <div class="overview-grid">
                        <div class="overview-item">
                            <div class="overview-label">æ€»æ¡ˆä¾‹æ•°</div>
                            <div class="overview-value" id="totalCases">0</div>
                        </div>
                        <div class="overview-item">
                            <div class="overview-label">æœºå®¡ä¸­</div>
                            <div class="overview-value" id="inProgressCases">0</div>
                        </div>
                        <div class="overview-item">
                            <div class="overview-label">æœºå®¡å®Œæˆ</div>
                            <div class="overview-value" id="completedCases">0</div>
                        </div>
                        <div class="overview-item">
                            <div class="overview-label">äº§ç”Ÿç–‘ç‚¹æ•°</div>
                            <div class="overview-value" id="totalDoubtPoints">0</div>
                        </div>
                    </div>
                </div>

                <!-- è§„åˆ™åˆ—è¡¨ -->
                <h3 style="margin-bottom: 16px; color: #2c3e50;">å…·ä½“è§„åˆ™åˆ—è¡¨</h3>
                <div class="table-wrapper">
                    <table class="detail-table">
                        <thead>
                            <tr>
                                <th>è§„åˆ™ID</th>
                                <th>è§„åˆ™åç§°</th>
                                <th>æ¶‰åŠæ¡ˆä¾‹æ•°</th>
                                <th>äº§ç”Ÿç–‘ç‚¹æ•°</th>
                                <th>æ‰§è¡ŒçŠ¶æ€</th>
                            </tr>
                        </thead>
                        <tbody id="ruleListBody">
                            <!-- è§„åˆ™åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeRuleDetailModal()">å…³é—­</button>
            </div>
        </div>
    </div>

    <!-- æ¡ˆä¾‹æ¸…å•æ¨¡æ€æ¡† -->
    <div id="caseListModal" class="modal-overlay" style="display: none;">
        <div class="modal-container">
            <div class="modal-header">
                <h2 class="modal-title">è§„åˆ™è¯¦æƒ…ï¼š<span id="caseRuleName"></span></h2>
                <button class="modal-close" onclick="closeCaseListModal()">Ã—</button>
            </div>
            <div class="modal-content">
                <!-- è§„åˆ™æè¿° -->
                <div style="margin-bottom: 20px;">
                    <h4 style="color: #2c3e50; margin-bottom: 8px;">è§„åˆ™æè¿°</h4>
                    <p id="ruleDescription" style="color: #34495e;"></p>
                </div>

                <!-- ç—…ä¾‹æ¸…å• -->
                <h3 style="margin-bottom: 16px; color: #2c3e50;">è§¦å‘è§„åˆ™çš„ç—…ä¾‹æ¸…å•</h3>
                <div class="table-wrapper">
                    <table class="detail-table">
                        <thead>
                            <tr>
                                <th>æ¡ˆä¾‹ID</th>
                                <th>æ‚£è€…å§“å</th>
                                <th>èº«ä»½è¯å·</th>
                                <th>å°±è¯ŠåŒ»é™¢</th>
                                <th>å°±è¯Šæ—¥æœŸ</th>
                                <th>è¿è§„è¯¦æƒ…</th>
                            </tr>
                        </thead>
                        <tbody id="caseListBody">
                            <!-- ç—…ä¾‹æ¸…å•å°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeCaseListModal()">å…³é—­</button>
            </div>
        </div>
    </div>

    <script>
        // åŠ è½½ç»Ÿä¸€ä¾§è¾¹æ 
        document.addEventListener('DOMContentLoaded', function() {
            // åŠ è½½ç»Ÿä¸€ä¾§è¾¹æ 
            fetch('/1.0/è¶…çº§ç®¡ç†å‘˜/ç»„ä»¶/_unified-sidebar.html')
                .then(response => response.text())
                .then(html => {
                    document.querySelector('#sidebar-container .sidebar-nav').innerHTML = html;
                    
                    // åˆå§‹åŒ–ä¾§è¾¹æ 
                    if (typeof initSidebar === 'function') {
                        initSidebar();
                    } else {
                        // å¦‚æœæ²¡æœ‰ç°æˆçš„initSidebarå‡½æ•°ï¼Œä½¿ç”¨ç®€å•çš„åˆå§‹åŒ–
                        simpleInitSidebar();
                    }
                })
                .catch(error => {
                    console.error('åŠ è½½ç»Ÿä¸€ä¾§è¾¹æ å¤±è´¥:', error);
                });
        });

        // ç®€å•çš„ä¾§è¾¹æ åˆå§‹åŒ–å‡½æ•°
        function simpleInitSidebar() {
            // èœå•å±•å¼€/æ”¶èµ·åŠŸèƒ½
            document.querySelectorAll('.nav-expandable').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    const parent = this.closest('.nav-group, .nav-subgroup');
                    const submenu = parent.querySelector('.nav-submenu');
                    
                    if (submenu) {
                        parent.classList.toggle('expanded');
                        submenu.style.display = parent.classList.contains('expanded') ? 'block' : 'none';
                    }
                });
            });
        }

        // æ¨¡æ‹Ÿè§„åˆ™æ•°æ®
        const ruleData = {
            'è¿‡åº¦ç”¨è¯': {
                totalCases: '150,000',
                inProgressCases: '0',
                completedCases: '150,000',
                totalDoubtPoints: '1,200',
                rules: [
                    { id: 'DR-001', name: 'è‹¯ç£ºé…¸æ°¨æ°¯åœ°å¹³ç‰‡(5mg) - 30å¤©è¶…é‡', cases: '8,500', doubtPoints: '450', status: 'completed' },
                    { id: 'DR-002', name: 'ç‘èˆ’ä¼ä»–æ±€é’™ç‰‡(10mg) - 30å¤©è¶…é‡', cases: '6,200', doubtPoints: '310', status: 'completed' },
                    { id: 'DR-003', name: 'èƒ°å²›ç´  - å•æ¬¡è¶…é‡', cases: '3,100', doubtPoints: '280', status: 'completed' },
                    { id: 'DR-004', name: 'äºŒç”²åŒèƒç‰‡ - æ—¥å‰‚é‡è¶…é‡', cases: '2,800', doubtPoints: '160', status: 'completed' }
                ]
            },
            'é‡å¤ç”¨è¯': {
                totalCases: '80,000',
                inProgressCases: '0',
                completedCases: '80,000',
                totalDoubtPoints: '650',
                rules: [
                    { id: 'DR-005', name: 'åŒç±»é™å‹è¯é‡å¤å¼€å…·', cases: '5,200', doubtPoints: '250', status: 'completed' },
                    { id: 'DR-006', name: 'åŒç±»é™è„‚è¯é‡å¤å¼€å…·', cases: '3,800', doubtPoints: '180', status: 'completed' },
                    { id: 'DR-007', name: 'åŒç±»æŠ—ç”Ÿç´ é‡å¤å¼€å…·', cases: '2,500', doubtPoints: '220', status: 'completed' }
                ]
            },
            'è¿‡åº¦æ£€æŸ¥': {
                totalCases: '100,000',
                inProgressCases: '0',
                completedCases: '100,000',
                totalDoubtPoints: '850',
                rules: [
                    { id: 'EX-001', name: 'CTæ£€æŸ¥é¢‘ç‡è¿‡é«˜', cases: '6,800', doubtPoints: '320', status: 'completed' },
                    { id: 'EX-002', name: 'MRIæ£€æŸ¥é¢‘ç‡è¿‡é«˜', cases: '4,500', doubtPoints: '210', status: 'completed' },
                    { id: 'EX-003', name: 'è¡€å¸¸è§„æ£€æŸ¥è¿‡åº¦', cases: '3,200', doubtPoints: '320', status: 'completed' }
                ]
            },
            'è€—æå¼‚å¸¸ä½¿ç”¨': {
                totalCases: '50,000',
                inProgressCases: '0',
                completedCases: '50,000',
                totalDoubtPoints: '320',
                rules: [
                    { id: 'MC-001', name: 'é«˜å€¼è€—æä½¿ç”¨å¼‚å¸¸', cases: '3,100', doubtPoints: '150', status: 'completed' },
                    { id: 'MC-002', name: 'ä¸€æ¬¡æ€§è€—æé‡å¤ä½¿ç”¨', cases: '2,800', doubtPoints: '170', status: 'completed' }
                ]
            },
            'åˆ†è§£ä½é™¢': {
                totalCases: '30,000',
                inProgressCases: '0',
                completedCases: '30,000',
                totalDoubtPoints: '150',
                rules: [
                    { id: 'IP-001', name: 'åŒä¸€è¯Šæ–­çŸ­æœŸå¤šæ¬¡ä½é™¢', cases: '2,500', doubtPoints: '150', status: 'completed' }
                ]
            },
            'ç—…è¯ä¸ç¬¦': {
                totalCases: '200,000',
                inProgressCases: '200,000',
                completedCases: '0',
                totalDoubtPoints: '-',
                rules: [
                    { id: 'DR-008', name: 'é«˜è¡€å‹æ‚£è€…å¼€å…·ç³–å°¿ç—…è¯ç‰©', cases: '0', doubtPoints: '0', status: 'running' },
                    { id: 'DR-009', name: 'ç³–å°¿ç—…æ‚£è€…å¼€å…·é«˜è¡€å‹è¯ç‰©', cases: '0', doubtPoints: '0', status: 'running' }
                ]
            },
            'æ£€æŸ¥ç±»å‹ä¸åŒ¹é…': {
                totalCases: '120,000',
                inProgressCases: '54,300',
                completedCases: '65,700',
                totalDoubtPoints: '-',
                rules: [
                    { id: 'EX-004', name: 'è¯Šæ–­ä¸æ£€æŸ¥é¡¹ç›®ä¸åŒ¹é…', cases: '32,000', doubtPoints: '0', status: 'running' },
                    { id: 'EX-005', name: 'æ£€æŸ¥é¡¹ç›®ä¸æ²»ç–—æ–¹æ¡ˆä¸åŒ¹é…', cases: '33,700', doubtPoints: '0', status: 'running' }
                ]
            }
        };

        // æ¨¡æ‹Ÿç—…ä¾‹æ•°æ®
        const caseData = {
            'DR-001': {
                description: 'æ£€æµ‹30å¤©å†…å¼€å…·è¯¥è¯å“æ•°é‡ > 35ç‰‡çš„å°±è¯Šè®°å½•ã€‚',
                cases: [
                    { id: 'CS-001', name: 'ç‹*', idCard: '370...01X', hospital: 'åŒ—äº¬åå’ŒåŒ»é™¢', date: '2024-10-15', violation: '30å¤©å†…å¼€å…·40ç‰‡' },
                    { id: 'CS-002', name: 'æ*', idCard: '110...02Y', hospital: 'ä¸­æ—¥å‹å¥½åŒ»é™¢', date: '2024-10-12', violation: '30å¤©å†…å¼€å…·50ç‰‡' },
                    { id: 'CS-003', name: 'å¼ *', idCard: '440...03Z', hospital: 'åŒ—äº¬åŒ»é™¢', date: '2024-10-10', violation: '30å¤©å†…å¼€å…·45ç‰‡' },
                    { id: 'CS-004', name: 'åˆ˜*', idCard: '310...04A', hospital: 'åå’ŒåŒ»é™¢', date: '2024-10-08', violation: '30å¤©å†…å¼€å…·38ç‰‡' },
                    { id: 'CS-005', name: 'é™ˆ*', idCard: '330...05B', hospital: 'åŒ—å¤§åŒ»é™¢', date: '2024-10-05', violation: '30å¤©å†…å¼€å…·42ç‰‡' }
                ]
            },
            'DR-002': {
                description: 'æ£€æµ‹30å¤©å†…å¼€å…·è¯¥è¯å“æ•°é‡ > 28ç‰‡çš„å°±è¯Šè®°å½•ã€‚',
                cases: [
                    { id: 'CS-006', name: 'èµµ*', idCard: '320...06C', hospital: 'ä¸Šæµ·ç¬¬ä¸€äººæ°‘åŒ»é™¢', date: '2024-10-14', violation: '30å¤©å†…å¼€å…·35ç‰‡' },
                    { id: 'CS-007', name: 'å­™*', idCard: '410...07D', hospital: 'å¹¿å·ä¸­å±±åŒ»é™¢', date: '2024-10-11', violation: '30å¤©å†…å¼€å…·40ç‰‡' },
                    { id: 'CS-008', name: 'å‘¨*', idCard: '420...08E', hospital: 'æ­¦æ±‰åŒæµåŒ»é™¢', date: '2024-10-09', violation: '30å¤©å†…å¼€å…·32ç‰‡' }
                ]
            },
            'DR-003': {
                description: 'æ£€æµ‹å•æ¬¡å¼€å…·èƒ°å²›ç´ å‰‚é‡è¶…è¿‡æ­£å¸¸èŒƒå›´çš„è®°å½•ã€‚',
                cases: [
                    { id: 'CS-009', name: 'å´*', idCard: '510...09F', hospital: 'åè¥¿åŒ»é™¢', date: '2024-10-13', violation: 'å•æ¬¡å¼€å…·è¶…é‡20%' },
                    { id: 'CS-010', name: 'éƒ‘*', idCard: '360...10G', hospital: 'å—æ˜Œå¤§å­¦é™„å±åŒ»é™¢', date: '2024-10-10', violation: 'å•æ¬¡å¼€å…·è¶…é‡30%' }
                ]
            }
        };

        // æ˜¾ç¤ºè§„åˆ™è¯¦æƒ…æ¨¡æ€æ¡†
        function showRuleDetail(category) {
            const data = ruleData[category];
            if (!data) return;

            // å¡«å……æ¦‚è§ˆä¿¡æ¯
            document.getElementById('detailCategoryName').textContent = category;
            document.getElementById('totalCases').textContent = data.totalCases;
            document.getElementById('inProgressCases').textContent = data.inProgressCases;
            document.getElementById('completedCases').textContent = data.completedCases;
            document.getElementById('totalDoubtPoints').textContent = data.totalDoubtPoints;

            // å¡«å……è§„åˆ™åˆ—è¡¨
            const ruleListBody = document.getElementById('ruleListBody');
            ruleListBody.innerHTML = '';

            data.rules.forEach(rule => {
                const row = document.createElement('tr');
                const statusClass = rule.status === 'completed' ? 'status-completed' : 'status-running';
                const statusText = rule.status === 'completed' ? 'âœ… å®Œæˆ' : 'ğŸ”„ è¿è¡Œä¸­';
                
                row.innerHTML = `
                    <td>${rule.id}</td>
                    <td><span class="drillable" onclick="showCaseList('${rule.id}', '${rule.name}')">${rule.name}</span></td>
                    <td>${rule.cases}</td>
                    <td>${rule.doubtPoints}</td>
                    <td class="${statusClass}">${statusText}</td>
                `;
                
                ruleListBody.appendChild(row);
            });

            // æ˜¾ç¤ºæ¨¡æ€æ¡†
            document.getElementById('ruleDetailModal').style.display = 'flex';
        }

        // å…³é—­è§„åˆ™è¯¦æƒ…æ¨¡æ€æ¡†
        function closeRuleDetailModal() {
            document.getElementById('ruleDetailModal').style.display = 'none';
        }

        // æ˜¾ç¤ºç—…ä¾‹æ¸…å•æ¨¡æ€æ¡†
        function showCaseList(ruleId, ruleName) {
            const data = caseData[ruleId];
            if (!data) {
                // å¦‚æœæ²¡æœ‰å¯¹åº”è§„åˆ™çš„ç—…ä¾‹æ•°æ®ï¼Œä½¿ç”¨é»˜è®¤æ•°æ®
                const defaultData = {
                    description: 'è¯¥è§„åˆ™çš„è¯¦ç»†æè¿°ä¿¡æ¯ã€‚',
                    cases: [
                        { id: 'CS-N/A', name: 'åŒ¿åæ‚£è€…', idCard: '***', hospital: 'æŸåŒ»é™¢', date: '2024-10-01', violation: 'ç¬¦åˆè¯¥è§„åˆ™æ¡ä»¶' }
                    ]
                };
                fillCaseListData(defaultData, ruleName);
            } else {
                fillCaseListData(data, ruleName);
            }
        }

        // å¡«å……ç—…ä¾‹æ¸…å•æ•°æ®
        function fillCaseListData(data, ruleName) {
            // å¡«å……è§„åˆ™åç§°å’Œæè¿°
            document.getElementById('caseRuleName').textContent = ruleName;
            document.getElementById('ruleDescription').textContent = data.description;

            // å¡«å……ç—…ä¾‹åˆ—è¡¨
            const caseListBody = document.getElementById('caseListBody');
            caseListBody.innerHTML = '';

            data.cases.forEach(caseItem => {
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td><span class="drillable" onclick="openCaseDetail('${caseItem.id}')">${caseItem.id}</span></td>
                    <td>${caseItem.name}</td>
                    <td>${caseItem.idCard}</td>
                    <td>${caseItem.hospital}</td>
                    <td>${caseItem.date}</td>
                    <td>${caseItem.violation}</td>
                `;
                
                caseListBody.appendChild(row);
            });

            // å…³é—­è§„åˆ™è¯¦æƒ…æ¨¡æ€æ¡†ï¼Œæ˜¾ç¤ºç—…ä¾‹æ¸…å•æ¨¡æ€æ¡†
            document.getElementById('ruleDetailModal').style.display = 'none';
            document.getElementById('caseListModal').style.display = 'flex';
        }

        // å…³é—­ç—…ä¾‹æ¸…å•æ¨¡æ€æ¡†
        function closeCaseListModal() {
            document.getElementById('caseListModal').style.display = 'none';
        }

        // æ‰“å¼€æ¡ˆä¾‹è¯¦æƒ…é¡µ
        function openCaseDetail(caseId) {
            // å…³é—­æ‰€æœ‰æ¨¡æ€æ¡†
            document.getElementById('caseListModal').style.display = 'none';
            
            // è·³è½¬åˆ°æ¡ˆä¾‹è¯¦æƒ…é¡µ
            window.location.href = `/1.0/è¶…çº§ç®¡ç†å‘˜/äº‹åå®¡æ ¸ç®¡ç†/æ¡ˆä¾‹è¯¦æƒ…é¡µ.html?caseId=${caseId}`;
        }

        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­æ¨¡æ€æ¡†
        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>